{"version":3,"sources":["functions/requests.js","components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["url","axios","get","obj","post","id","delete","data","put","Filter","props","type","value","filter","onChange","e","setFilter","target","PersonForm","newName","setNewName","newNumber","setNewNumber","onClick","addName","Persons","persons","person","name","toLowerCase","includes","map","index","number","window","confirm","requests","handleClick","Notification","message","style","App","useState","setPersons","setMessage","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","setStyle","useEffect","then","console","log","event","some","preventDefault","confirmation","find","catch","err","personsCopy","push","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a431a2b4.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst get = url => {\r\n    return axios.get(url)\r\n}\r\n\r\nconst create = (url, obj) => {\r\n    return axios.post(url, obj)\r\n}\r\n\r\nconst dlt = (url, id) => {\r\n    return axios.delete(url + id)\r\n}\r\n\r\nconst put = (url, id, data) => {\r\n    return axios.put(url + id, data)\r\n}\r\n\r\nexport default {\r\n    get: get,\r\n    create: create,\r\n    dlt: dlt,\r\n    put: put\r\n}","import React from 'react'\r\n\r\nconst Filter = props => {\r\n    return (\r\n        <div>\r\n            filter shown with <input type=\"text\" value={props.filter} onChange={e => props.setFilter(e.target.value)} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = props => {\r\n    return (\r\n        <form>\r\n            <div>\r\n            name: <input type=\"text\" value={props.newName} onChange={e => props.setNewName(e.target.value)} />\r\n            </div>\r\n            <div>\r\n            number: <input type=\"text\" value={props.newNumber} onChange={e => props.setNewNumber(e.target.value)} />\r\n            </div>\r\n            <div>\r\n            <button type=\"submit\" onClick={props.addName}>add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nimport requests from '../functions/requests'\r\n\r\nconst Persons = props => {\r\n    const handleClick = person => {\r\n        const confirmation = window.confirm(`Delete ${person.name}?`)\r\n\r\n        if (confirmation) {\r\n            return requests.dlt('/api/persons/', person.id)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {props.persons.filter(person => person.name.toLowerCase().includes(props.filter.toLowerCase())).map((person, index) => {\r\n                return <p key={index}>{person.name} {person.number} <button onClick={() => handleClick(person)}>delete</button></p>\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({ message, style }) => {\r\n    if (!message) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div style={style}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useEffect, useState } from 'react'\r\n\r\nimport requests from './functions/requests'\r\n\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n    const [ persons, setPersons ] = useState([])\r\n    const [ newName, setNewName ] = useState('')\r\n    const [ newNumber, setNewNumber ] = useState('')\r\n    const [ filter, setFilter ] = useState('')\r\n    const [ message, setMessage ] = useState(null)\r\n    const [ style, setStyle ] = useState({\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n    })\r\n\r\n    const addName = event => {\r\n        if (persons.some(person => person.name === newName)) {\r\n            event.preventDefault()\r\n            const confirmation = window.confirm(`${newName} is already added to the phonebook! Update number?`)\r\n            const person = persons.find(person => person.name === newName)\r\n            const data = {\r\n                name: newName,\r\n                number: newNumber\r\n            }\r\n\r\n            if (confirmation) {\r\n                return requests.put('/api/persons/', person.id, data).catch(err => {\r\n                    console.log(err)\r\n                        setStyle({\r\n                            color: 'red',\r\n                            background: 'lightgrey',\r\n                            fontSize: 20,\r\n                            borderStyle: 'solid',\r\n                            borderRadius: 5,\r\n                            padding: 10,\r\n                            marginBottom: 10,\r\n                        })\r\n                        setMessage(`Information of ${newName} has already been removed from server...`)\r\n                })\r\n            }\r\n        }\r\n\r\n        const data = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n\r\n        const personsCopy = [...persons]\r\n        personsCopy.push(data)\r\n        setPersons(personsCopy)\r\n        setMessage(`Added ${newName}`)\r\n\r\n        requests.create('/api/persons', data)\r\n\r\n        event.preventDefault()\r\n    }\r\n\r\n    useEffect(() => {\r\n        requests.get('/api/persons')\r\n            .then(obj => {\r\n                console.log(obj.data)\r\n                setPersons(obj.data)\r\n            })\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Notification message={message} style={style} />\r\n            <Filter filter={filter} setFilter={setFilter} />\r\n            <h2>add a new</h2>\r\n            <PersonForm \r\n                newName={newName}\r\n                setNewName={setNewName}\r\n                newNumber={newNumber}\r\n                setNewNumber={setNewNumber}\r\n                addName={addName}\r\n            />\r\n            <h2>Numbers</h2>\r\n            <Persons\r\n                persons={persons}\r\n                filter={filter}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)"],"sourceRoot":""}